<!DOCTYPE html>
<meta charset="UTF-8">
<html>
<body>
    <style>
        button {
            width: 50px;
            height: 50px;
        }
    </style>
    <input style="font-size: 28px; text-align: right; width: 270px;" /><br />

    <script>
        //input tagを更新
        //値をクリアにするボタン
        function update(_v) {
            document.querySelector('input').value = _v
        }

        //数値を　＋　する関数
        function append(_v) // 数字ボタンが押されたので数字を後ろに追加する
        {
            document.querySelector('input').value += _v
        }


        //数値の　余り　する関数
        function amari(_v) // 数字ボタンが押されたので数字を後ろに追加する
        {
            document.querySelector('input').value %= _v
        }



        function calc() {
            const v = document.querySelector('input').value
            //SQlインジェクションみたいなの防ぐために関数Fに数値を代入
            //returnのあとに空白入れないと動かない
            const f = new Function('return ' + v)
            update(f().toString())

        }

    </script>

    <button onclick="append( '1' )">1</button>
    <button onclick="append( '2' )">2</button>
    <button onclick="append( '3' )">3</button>
    <button onclick="append( '4' )">4</button>
    <button onclick="append( '5' )">5</button><br>
    <button onclick="append( '6' )">6</button>
    <button onclick="append( '7' )">7</button>
    <button onclick="append( '8' )">8</button>
    <button onclick="append( '9' )">9</button>
    <button onclick="append( '0' )">0</button><br>
    <button onclick="append( '+' )">+</button>
    <button onclick="append( '-' )">-</button>
    <button onclick="append( '*' )">*</button>
    <button onclick="append( '/' )">/</button>
    <button onclick="append( '%' )">%</button><br>

    <button onclick="calc()" style="width:105px;">=</button>

    <button onclick="update( '' ) " style="width:160px;">CLR</button>


</body>
</html>
